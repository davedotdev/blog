<!DOCTYPE html>
<html class="no-js" lang="en-us"><head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="A post on EoMPLS over ES ports - Cisco ME3750">

<meta name="generator" content="Hugo 0.62.0-DEV" />

<title>Welcome to dave.dev</title>

<!-- Mobile Specific Meta -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Favicon -->
<link rel="shortcut icon" type="image/x-icon" href="https://dave.dev/images/favicon.ico" />

<!-- Stylesheets -->
<!-- Themefisher Icon font -->
<link rel="stylesheet" href="https://dave.dev/plugins/themefisher-font/style.css">
<!-- bootstrap.min css -->
<link rel="stylesheet" href="https://dave.dev/plugins/bootstrap/dist/css/bootstrap.min.css">
<!-- Lightbox.min css -->
<link rel="stylesheet" href="https://dave.dev/plugins/lightbox2/dist/css/lightbox.min.css">
<!-- Slick Carousel -->
<link rel="stylesheet" href="https://dave.dev/plugins/slick-carousel/slick/slick.css">
<link rel="stylesheet" href="https://dave.dev/plugins/slick-carousel/slick/slick-theme.css">
<!-- Main Stylesheet -->


<link rel="stylesheet" href="https://dave.dev/css/style.min.css" integrity="" media="screen">

</head>
<body id="body">
        <!-- Start Preloader -->
<div id="preloader">
    <div class="preloader">
        <div class="sk-circle1 sk-child"></div>
        <div class="sk-circle2 sk-child"></div>
        <div class="sk-circle3 sk-child"></div>
        <div class="sk-circle4 sk-child"></div>
        <div class="sk-circle5 sk-child"></div>
        <div class="sk-circle6 sk-child"></div>
        <div class="sk-circle7 sk-child"></div>
        <div class="sk-circle8 sk-child"></div>
        <div class="sk-circle9 sk-child"></div>
        <div class="sk-circle10 sk-child"></div>
        <div class="sk-circle11 sk-child"></div>
        <div class="sk-circle12 sk-child"></div>
    </div>
</div>
<!-- End Preloader --><!-- Fixed Navigation -->


<section class="header navigation">

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar navbar-expand-md">
                    <a class="navbar-brand" href="https://dave.dev/">
                        <img src="https://dave.dev/images/logo2.png" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
                        aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="tf-ion-android-menu"></span>
                    </button>
                    
                    <div id="drapeaux">
                        
                        
                    </div>
                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link"
                                    href="https://dave.dev/"></a>
                            </li>
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/blog">Blog</a>
                            </li>
                            
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/portfolio">Portfolio</a>
                            </li>
                            
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/list">Full List</a>
                            </li>
                            
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section><div id="content">

<section class="blog-single section">
    <div class="container">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <img src="https://dave.dev/images/blog/placeholder.jpg" class="w-100 mb-3" alt="Post-Image">
                <h2>Cisco ME3750 ‚Äì EoMPLS over ES ports</h2>
                <div class="post-meta mb-5">
                    <ul class="list-inline">
                        <li class="list-inline-item">
                            <span>By</span>
                            David Gee
                        </li>
                        <li class="list-inline-item">
                            <span>at</span>
                            <span>September 20, 2012</span>
                        </li>
                    </ul>
                </div>
                <p>The Cisco ME3750 is an Ethernet services switch compliant to MEF 9 and 14 and can serve in a multitude of roles from delivering Martini draft L2 connectivity, provide H-QOS, VLAN re-writes, QinQ, CFM (OAM) and more.</p>
<p><img src="/images/blog/Cisco_3750_Metro.jpg#floatleft" alt="Cisco ME3750"></p>
<p>It will also provide L3 MPLS IP-VPN functionality, limited by throughput (due to tiny CPU), single hardware label handling and limitation on number of routes (It‚Äôs a small switch right?!).The ME3750 and ME3400 are used everywhere you can imagine and like the ME3400, they‚Äôre considered bread and butter stuff for many service providers globally. Downsides? They do NOT stack (everyone knows a 3750 stacks!!!) and they only have two Gigabit ports which Cisco have defined as ES or Enhanced Services ports. The others are Fast Ethernet only. It kind of limits you to delivering 100Mbps circuits, which for WAN/MAN isn‚Äôt a great issue. DCIs over that speed is another issue. Also, it‚Äôs worth mentioning they‚Äôre now EOS. It‚Äôs normal for companies to use kit until it just doesn‚Äôt work and I expect the ME3750 not to be going anywhere fast whilst the feature set meets expectations.</p>
<p>I, like many people, tend to cable things up in a method which allows for service delivery without constant repatching. I accept there is a difference between throughput and function, but for the majority, delivering a 2Mbps CIR EoMPLS link over a VLAN which traverses the two Gigabit ports is a no brainer.  Cable it up and forget.  Our desired solution is this image:  We want a single VLAN to traverse two sites and transport the Ethernet frame contents with it. The configuration (again looking a little like below ‚Äì although simplified) was applied. Please note, this configuration is not complete, it lacks any MPLS/IGP/BGP/RSVP/LDP configuration, but in this example, accept they work for other services utilising the aforementioned technologies.</p>
<p><img src="/images/blog/ME3750_11.png#center" alt="ME3750"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">int gig 1/1/1 switchport mode trunk
description **ES-Port Config allowing all configured VLANs to traverse**
switchport trunk allowed vlan add 100
!
int vlan 100
description **EoMPLS <span style="color:#66d9ef">for</span> VLAN 100**
no ip address
xconnect x.x.x.x <span style="color:#ae81ff">100</span> encapsulation mpls pw-class VLAN-EoMPLS
!
pseudowire-class VLAN-EoMPLS
encapsulation mpls
interworking vlan
</code></pre></div><p>Result? Doesn‚Äôt work üôÅ Bummer! Why not? The closest explanation was one I found in a Cisco guide doc stated you can‚Äôt run EoMPLS over the same ES ports that run MPLS. The way I interpret this is even if a VLAN traverses the ES port that has MPLS enabled on it. As a result I patched in another couple of cables between the L2 aggregation switches and the ME3750‚Äôs to the FE ports then moved the config. Did it work? As expected, yes. Just make sure you disable any spanning-tree safety features on the UNI port. I did have a couple of errdisables.</p>
<p>If anyone else has a different experience, I would like to hear it. This could be specific to software version 122-54.SE but I do not have any spare kit to test to otherwise test my theory. The other question could be, is it worth it? Well, in this tough economy, using these devices in this manor might save your company a lot of money.</p>

		Dave
            </div>
        </div>
    </div>
</section>


        </div><!-- Footer Start -->
<footer id="footer" class="bg-one">
    <div class="top-footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3">
		    <h3>Email Me</h3>
		    <a href="mailto:me@dave.dev">me@dave.dev</a>
		</div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <h3>Social Links</h3>
                    <ul class="list-inline social-icon">
                        
                        
                        <li class="list-inline-item">
                            <a href="https://twitter.com/_ipengineer">
                                <i class="tf-ion-social-twitter"></i>
                            </a>
                        </li>
                        
                        
                        <li class="list-inline-item">
                            <a href="https://www.linkedin.com/in/lsp42/">
                                <i class="tf-ion-social-linkedin"></i>
                            </a>
                        </li>
                        
                        
                        
                        
                        <li class="list-inline-item">
                            <a href="https://github.com/davidjohngee">
                                <i class="tf-ion-social-github"></i>
                            </a>
                        </li>
                        
                        
                        <li class="list-inline-item">
                            <a href="https://github.com/arsonistgopher">
                                <i class="tf-ion-social-github"></i>
                            </a>
                        </li>
                        
                        
                        <li class="list-inline-item">
                            <a href="https://github.com/davedotdev">
                                <i class="tf-ion-social-github"></i>
                            </a>
                        </li>
                        
                    </ul>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <h3>Treat the Author</h3>
		        <a href="https://www.buymeacoffee.com/ipengineer"><img border="0" alt="Buy me a coffee!" src="/images/bmac.png"></a>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <h3>Copyright</h3>
                    <p>¬© David Gee and dave.dev, 2019.</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- end footer -->


<!-- Essential Scripts -->

<!-- jQuery -->
<script src="https://dave.dev/plugins/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="https://dave.dev/plugins/bootstrap/dist/js/popper.min.js"></script>
<script src="https://dave.dev/plugins/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Parallax -->
<script src="https://dave.dev/plugins/parallax/jquery.parallax-1.1.3.js"></script>
<!-- lightbox -->
<script src="https://dave.dev/plugins/lightbox2/dist/js/lightbox.min.js"></script>
<!-- Slick Carousel -->
<script src="https://dave.dev/plugins/slick-carousel/slick/slick.min.js"></script>
<!-- Portfolio Filtering -->
<script src="https://dave.dev/plugins/filterzr/jquery.filterizr.min.js"></script>
<!-- Smooth Scroll js -->
<script src="https://dave.dev/plugins/smooth-scroll/dist/js/smooth-scroll.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCC72vZw-6tGqFyRhhg5CkF2fqfILn2Tsw"></script>
<!-- Main Script -->

<script src="https://dave.dev/js/script.min.js"></script>
</body>
</html>
