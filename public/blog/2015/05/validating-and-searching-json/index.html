<!DOCTYPE html>
<html class="no-js" lang="en-us"><head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="Validating and Searching JSON">

<meta name="generator" content="Hugo 0.83.1" />

<title>Welcome to dave.dev</title>

<!-- Mobile Specific Meta -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Favicon -->
<link rel="shortcut icon" type="image/x-icon" href="https://dave.dev/images/favicon.ico" />

<!-- Stylesheets -->
<!-- Themefisher Icon font -->
<link rel="stylesheet" href="https://dave.dev/plugins/themefisher-font/style.css">
<!-- bootstrap.min css -->
<link rel="stylesheet" href="https://dave.dev/plugins/bootstrap/dist/css/bootstrap.min.css">
<!-- Lightbox.min css -->
<link rel="stylesheet" href="https://dave.dev/plugins/lightbox2/dist/css/lightbox.min.css">
<!-- Slick Carousel -->
<link rel="stylesheet" href="https://dave.dev/plugins/slick-carousel/slick/slick.css">
<link rel="stylesheet" href="https://dave.dev/plugins/slick-carousel/slick/slick-theme.css">
<!-- Main Stylesheet -->


<link rel="stylesheet" href="https://dave.dev/css/style.min.css" integrity="" media="screen">

<!-- Essential Scripts -->

<!-- jQuery -->
<script src="https://dave.dev/plugins/jquery/jquery-1.12.4.js"></script>
<!-- Bootstrap -->
<script src="https://dave.dev/plugins/bootstrap/dist/js/popper.min.js"></script>
<script src="https://dave.dev/plugins/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Parallax -->
<script src="https://dave.dev/plugins/parallax/jquery.parallax-1.1.3.js"></script>
<!-- lightbox -->
<script src="https://dave.dev/plugins/lightbox2/dist/js/lightbox.min.js"></script>
<!-- Slick Carousel -->
<script src="https://dave.dev/plugins/slick-carousel/slick/slick.min.js"></script>
<!-- Portfolio Filtering -->
<script src="https://dave.dev/plugins/filterzr/jquery.filterizr.min.js"></script>
<!-- Smooth Scroll js -->
<script src="https://dave.dev/plugins/smooth-scroll/dist/js/smooth-scroll.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCC72vZw-6tGqFyRhhg5CkF2fqfILn2Tsw"></script>
<!-- Main Script -->

<script src="https://dave.dev/js/script.min.js"></script>

<!-- jquery ui -->
<script src="https://dave.dev/plugins/jquery/jquery-ui.js"></script>

<!-- match-height JS -->
<script src="https://dave.dev/plugins/match-height/jquery.matchHeight-min.js"></script>

</head>
<body id="body">
        <!-- Start Preloader -->
<div id="preloader">
    <div class="preloader">
        <div class="sk-circle1 sk-child"></div>
        <div class="sk-circle2 sk-child"></div>
        <div class="sk-circle3 sk-child"></div>
        <div class="sk-circle4 sk-child"></div>
        <div class="sk-circle5 sk-child"></div>
        <div class="sk-circle6 sk-child"></div>
        <div class="sk-circle7 sk-child"></div>
        <div class="sk-circle8 sk-child"></div>
        <div class="sk-circle9 sk-child"></div>
        <div class="sk-circle10 sk-child"></div>
        <div class="sk-circle11 sk-child"></div>
        <div class="sk-circle12 sk-child"></div>
    </div>
</div>
<!-- End Preloader --><!-- Fixed Navigation -->


<section class="header navigation">

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar navbar-expand-md">
                    <a class="navbar-brand" href="https://dave.dev/"><h2><font color=#ffffff>dave</font><font color=#ff813f>.</font>dev</h2>
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
                        aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="tf-ion-android-menu"></span>
                    </button>
                    
                    <div id="drapeaux">
                        
                        
                    </div>
                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link"
                                    href="https://dave.dev/"></a>
                            </li>
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/blog">Blog</a>
                            </li>
                            
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/graphops">GraphOps</a>
                            </li>
                            
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/portfolio">Portfolio</a>
                            </li>
                            
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/list">Full List</a>
                            </li>
                            
                            
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://dave.dev/uijourney">My UI Journey</a>
                            </li>
                            
                            
                            <li class="nav-item">
                               <a class="nav-link" href="https://dave.dev/index.xml"><img alt="RSS" src="https://dave.dev/images/rss.png" width="25" height="25"></a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>
<div id="content">



<!-- React & JSX -->
<script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>

<section class="blog-single section">
    <div class="container">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <img src="https://dave.dev/images/blog/placeholder.jpg" class="w-100 mb-3" alt="Post-Image">
                <h2>Validating and Searching JSON</h2>
                <div class="post-meta mb-5">
                    <ul class="list-inline">
                        <li class="list-inline-item">
                            <span>By</span>
                            <font color=#ff813f>David Gee</font>
                        </li>
                        <li class="list-inline-item">
                            <span>at</span>
                            <span><font color=#ff813f>May 14, 2015</font></span>
                        </li>
                    </ul>
                </div>
                <p>When it comes to dealing with network automation, you can find yourself battling with many things, including dealing with XML and JSON data structures as you build apps that consume or spit out data.</p>
<p>Recently I’ve been using ‘jq’ to provide my JSON validation (i.e. I’ve not missed a quotation, colon, comma, curly or square bracket) when building data in JSON. Its primary function and purpose is to search through JSON data to find something in the data set, or reduce the data set to an area of focus, thus also validating your application is generating what it should be generating! A ‘lightweight and flexible command line JSON processor’ if you take the website description which is here: <a href="http://stedolan.githib.io/jq/">http://stedolan.githib.io/jq/</a>.</p>
<h4 id="how-do-you-use-this-jq">How do you use this jq?</h4>
<p>Here’s a simple JSON example with an ‘error’.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
	<span style="color:#f92672">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;App1&#34;</span>,
	<span style="color:#f92672">&#34;OS&#34;</span>:[<span style="color:#e6db74">&#34;Linux&#34;</span>, <span style="color:#e6db74">&#34;Windows&#34;</span>, <span style="color:#e6db74">&#34;Solaris&#34;</span>, <span style="color:#e6db74">&#34;OSX&#34;</span>],
	<span style="color:#f92672">&#34;Author&#34;</span>:<span style="color:#e6db74">&#34;David Gee&#34;</span>,
	<span style="color:#f92672">&#34;Email&#34;</span>:<span style="color:#e6db74">&#34;david.gee@ipengineer.net&#34;</span>,
	<span style="color:#f92672">&#34;Twitter&#34;</span>:<span style="color:#e6db74">&#34;@davidjohngee&#34;</span>
	<span style="color:#e6db74">&#34;Version&#34;</span>:<span style="color:#e6db74">&#34;alpha-v0.1&#34;</span>,
	<span style="color:#f92672">&#34;IP_Address&#34;</span>:<span style="color:#e6db74">&#34;192.0.2.1:5000&#34;</span>
}
</code></pre></div><p>Using <code>jq</code> I can not only validate the structure, but in the case of a script, I can also parse out the key/value I need. But first, let’s see where our error is.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ jq <span style="color:#e6db74">&#39;.&#39;</span> tst.json 
parse error: Expected separator between values at line 7, column <span style="color:#ae81ff">10</span>
</code></pre></div><p>The ‘.’ tells jq to output the json without any filtering.</p>
<p>Let’s mend the JSON and do it again:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ jq <span style="color:#e6db74">&#39;.&#39;</span> tst.json 
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;App1&#34;</span>,
  <span style="color:#e6db74">&#34;OS&#34;</span>: <span style="color:#f92672">[</span>
    <span style="color:#e6db74">&#34;Linux&#34;</span>,
    <span style="color:#e6db74">&#34;Windows&#34;</span>,
    <span style="color:#e6db74">&#34;Solaris&#34;</span>,
    <span style="color:#e6db74">&#34;OSX&#34;</span>
  <span style="color:#f92672">]</span>,
  <span style="color:#e6db74">&#34;Author&#34;</span>: <span style="color:#e6db74">&#34;David Gee&#34;</span>,
  <span style="color:#e6db74">&#34;Email&#34;</span>: <span style="color:#e6db74">&#34;david.gee@ipengineer.net&#34;</span>,
  <span style="color:#e6db74">&#34;Twitter&#34;</span>: <span style="color:#e6db74">&#34;@davidjohngee&#34;</span>,
  <span style="color:#e6db74">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;alpha-v0.1&#34;</span>,
  <span style="color:#e6db74">&#34;IP_Address&#34;</span>: <span style="color:#e6db74">&#34;192.0.2.1:5000&#34;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>So how about filtering for just say the OS types this is for?</p>
<p>There are multiple approaches to this. Do you want the key included?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ jq <span style="color:#e6db74">&#39;.[&#34;OS&#34;] &#39;</span>  tst.json 
<span style="color:#f92672">[</span>
  <span style="color:#e6db74">&#34;Linux&#34;</span>,
  <span style="color:#e6db74">&#34;Windows&#34;</span>,
  <span style="color:#e6db74">&#34;Solaris&#34;</span>,
  <span style="color:#e6db74">&#34;OSX&#34;</span>
<span style="color:#f92672">]</span>

$ jq <span style="color:#e6db74">&#39;.|{OS}&#39;</span>  tst.json 
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;OS&#34;</span>: <span style="color:#f92672">[</span>
    <span style="color:#e6db74">&#34;Linux&#34;</span>,
    <span style="color:#e6db74">&#34;Windows&#34;</span>,
    <span style="color:#e6db74">&#34;Solaris&#34;</span>,
    <span style="color:#e6db74">&#34;OSX&#34;</span>
  <span style="color:#f92672">]</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="how-do-i-install-this-wunder">How do I install this Wunder?</h3>
<p>Check out the install page. I installed it on OSX via brew and on Debian using the binaries. It worked without an issue. Why would it not? It’s been built as a portable C application and has no runtime dependencies!</p>
<p>Check out the download page which can be found here: <a href="http://stedolan.github.io/jq/download/">http://stedolan.github.io/jq/download/</a></p>
<h4 id="summary">Summary?</h4>
<p>When a tool comes along such as this, it’s worth spending a little time to get familiar and make it part of your day to day tool set.</p>
<p>Check out the jq tutorial site <a href="http://stedolan.github.io/jq/tutorial/">here</a> for more jq fun!</p>



                
        <p><i><b>Dave</b></i></p>
    
        <ul class="list-inline">
            <li>
                <span>Tags:</span>
                <span><font color=#ff813f>JSON</font></span>
            </li>
            <li>
                <span>Categories:</span>
                <span><font color=#ff813f>JSON</font></span>
            </li>
        </ul>
            </div>
        </div>
    </div>
</section>


        </div><!-- Footer Start -->
<footer id="footer" class="bg-one">
    <div class="top-footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3">
		    <h3>Email Me</h3>
		    <a href="mailto:me@dave.dev">me@dave.dev</a>
		</div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <h3>Social Links</h3>
                    <div class="social-icon">
                    <ul class="list-inline social-icon">
                        
                        
                        <li class="list-inline-item">
                            <a href="https://twitter.com/_ipengineer">
                                <i class="tf-ion-social-twitter"></i>
                            </a>
                        </li>
                        
                        
                        <li class="list-inline-item">
                            <a href="https://www.linkedin.com/in/lsp42/">
                                <i class="tf-ion-social-linkedin"></i>
                            </a>
                        </li>
                        
                        
                        
                        
                        <li class="list-inline-item">
                            <a href="https://github.com/davidjohngee">
                                <i class="tf-ion-social-github"></i>
                            </a>
                        </li>
                        
                        
                        <li class="list-inline-item">
                            <a href="https://github.com/arsonistgopher">
                                <i class="tf-ion-social-github"></i>
                            </a>
                        </li>
                        
                        
                        <li class="list-inline-item">
                            <a href="https://github.com/davedotdev">
                                <i class="tf-ion-social-github"></i>
                            </a>
                        </li>
                        
                        
                        <li class="list-inline-item">
                            <a href="https://hub.docker.com/u/davedotdev">
                                <i class="tf-ion-code-download"></i>
                            </a>
                        </li>
                        

                    </ul>
                    </div>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <h3>Treat the Author</h3>
		        <a href="https://www.buymeacoffee.com/ipengineer"><img border="0" alt="Buy me a coffee!" src="/images/bmac.png"></a>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <h3>Copyright</h3>
                    <p><font color=#ff813f>© David Gee and dave.dev, 2021.</font></p>
                </div>

                
                
                
                

            </div>
        </div>
    </div>
</footer>
<!-- end footer -->



</body>
</html>
